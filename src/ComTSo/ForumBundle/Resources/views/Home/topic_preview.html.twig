{% extends 'ComTSoForumBundle:Topic:preview.html.twig' %}

{% block topic_panel_body %}
    <div class="panel-body">
        {% spaceless %}
            {% if topic.lastPhotos is defined and topic.lastPhotos | length %}
                <div class="topic-photos">
                    {% for photoTopic in topic.lastPhotos|slice(0, 4)|reverse %}
                        {% set photo = photoTopic.photo %}
                        {% if photo %}
                            {% include 'ComTSoForumBundle:Photo:thumbnail.html.twig' %}
                        {% endif %}
                    {% endfor %}
                    <hr class="clear">
                </div>
            {% endif %}
            {% for comment in topic.lastComments is defined ? topic.lastComments : [] %}
                {% if loop.index != 1 %}<hr class="clear">{% endif %}
                {% include 'ComTSoForumBundle:Comment:comment.html.twig' %}
            {% endfor %}
        {% endspaceless %}
    </div>
{% endblock %}
